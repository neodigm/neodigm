(function(N){"object"===typeof exports&&"undefined"!==typeof module?module.exports=N():"function"===typeof define&&define.amd?define([],N):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).cytoscapeCoseBilkent=N()})(function(){return function a(m,w,B){function b(e,k){if(!w[e]){if(!m[e]){var p="function"==typeof require&&require;if(!k&&p)return p(e,!0);if(c)return c(e,!0);p=Error("Cannot find module '"+e+"'");throw p.code="MODULE_NOT_FOUND",
p;}p=w[e]={exports:{}};m[e][0].call(p.exports,function(l){var r=m[e][1][l];return b(r?r:l)},p,p.exports,a,m,w,B)}return w[e].exports}for(var c="function"==typeof require&&require,d=0;d<B.length;d++)b(B[d]);return b}({1:[function(m,w,B){function a(){}m=m("./FDLayoutConstants");for(var b in m)a[b]=m[b];a.DEFAULT_USE_MULTI_LEVEL_SCALING=!1;a.DEFAULT_RADIAL_SEPARATION=m.DEFAULT_EDGE_LENGTH;a.DEFAULT_COMPONENT_SEPERATION=60;w.exports=a},{"./FDLayoutConstants":10}],2:[function(m,w,B){function a(d,e,k){b.call(this,
d,e,k)}var b=m("./FDLayoutEdge");a.prototype=Object.create(b.prototype);for(var c in b)a[c]=b[c];w.exports=a},{"./FDLayoutEdge":11}],3:[function(m,w,B){function a(d,e,k){b.call(this,d,e,k)}var b=m("./LGraph");a.prototype=Object.create(b.prototype);for(var c in b)a[c]=b[c];w.exports=a},{"./LGraph":19}],4:[function(m,w,B){function a(d){b.call(this,d)}var b=m("./LGraphManager");a.prototype=Object.create(b.prototype);for(var c in b)a[c]=b[c];w.exports=a},{"./LGraphManager":20}],5:[function(m,w,B){function a(){b.call(this)}
var b=m("./FDLayout"),c=m("./CoSEGraphManager"),d=m("./CoSEGraph"),e=m("./CoSENode"),k=m("./CoSEEdge"),p=m("./CoSEConstants"),l=m("./FDLayoutConstants"),r=m("./LayoutConstants"),n=m("./Point"),g=m("./PointD"),f=m("./Layout"),h=m("./Integer"),q=m("./IGeometry"),u=m("./LGraph"),y=m("./Transform");a.prototype=Object.create(b.prototype);for(var z in b)a[z]=b[z];a.prototype.newGraphManager=function(){var t=new c(this);return this.graphManager=t};a.prototype.newGraph=function(t){return new d(null,this.graphManager,
t)};a.prototype.newNode=function(t){return new e(this.graphManager,t)};a.prototype.newEdge=function(t){return new k(null,null,t)};a.prototype.initParameters=function(){b.prototype.initParameters.call(this,arguments);this.isSubLayout||(this.idealEdgeLength=10>p.DEFAULT_EDGE_LENGTH?10:p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=l.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=l.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=
l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR)};a.prototype.layout=function(){r.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges());this.level=0;return this.classicLayout()};a.prototype.classicLayout=function(){this.calculateNodesToApplyGravitationTo();this.graphManager.calcLowestCommonAncestors();
this.graphManager.calcInclusionTreeDepths();this.graphManager.getRoot().calcEstimatedSize();this.calcIdealEdgeLengths();if(!this.incremental){var t=this.getFlatForest();0<t.length?this.positionNodesRadially(t):this.positionNodesRandomly()}this.initSpringEmbedder();this.runSpringEmbedder();return!0};a.prototype.tick=function(){this.totalIterations++;if(this.totalIterations===this.maxIterations)return!0;if(0==this.totalIterations%l.CONVERGENCE_CHECK_PERIOD){if(this.isConverged())return!0;this.coolingFactor=
(this.maxIterations-this.totalIterations)/this.maxIterations*this.initialCoolingFactor;this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}this.totalDisplacement=0;this.graphManager.updateBounds();this.calcSpringForces();this.calcRepulsionForces();this.calcGravitationalForces();this.moveNodes();this.animate();return!1};a.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),v={},A=0;A<t.length;A++){var x=t[A].rect,C=t[A].id;v[C]={id:C,
x:x.getCenterX(),y:x.getCenterY(),w:x.width,h:x.height}}return v};a.prototype.runSpringEmbedder=function(){this.animationPeriod=this.initialAnimationPeriod=25;var t=!1;if("during"===l.ANIMATE)this.emit("layoutstarted");else{for(;!t;)t=this.tick();this.graphManager.updateBounds()}};a.prototype.calculateNodesToApplyGravitationTo=function(){var t=[],v=this.graphManager.getGraphs(),A=v.length,x;for(x=0;x<A;x++){var C=v[x];C.updateConnected();C.isConnected||(t=t.concat(C.getNodes()))}this.graphManager.setAllNodesToApplyGravitation(t)};
a.prototype.createBendpoints=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());var v=new HashSet,A;for(A=0;A<t.length;A++){var x=t[A];if(!v.contains(x)){var C=x.getSource(),E=x.getTarget();if(C==E)x.getBendpoints().push(new g),x.getBendpoints().push(new g),this.createDummyNodesForBendpoints(x),v.add(x);else if(x=[],x=x.concat(C.getEdgeListToNode(E)),x=x.concat(E.getEdgeListToNode(C)),!v.contains(x[0])){if(1<x.length)for(C=0;C<x.length;C++)E=x[C],E.getBendpoints().push(new g),this.createDummyNodesForBendpoints(E);
v.addAll(list)}}if(v.size()==t.length)break}};a.prototype.positionNodesRadially=function(t){for(var v=new n(0,0),A=Math.ceil(Math.sqrt(t.length)),x=0,C=0,E=0,D=new g(0,0),F=0;F<t.length;F++){0==F%A&&(E=0,C=x,0!=F&&(C+=p.DEFAULT_COMPONENT_SEPERATION),x=0);D=t[F];var G=f.findCenterOfTree(D);v.x=E;v.y=C;D=a.radialLayout(D,G,v);D.y>x&&(x=Math.floor(D.y));E=Math.floor(D.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new g(r.WORLD_CENTER_X-D.x/2,r.WORLD_CENTER_Y-D.y/2))};a.radialLayout=function(t,v,A){var x=
Math.max(this.maxDiagonalInTree(t),p.DEFAULT_RADIAL_SEPARATION);a.branchRadialLayout(v,null,0,359,0,x);x=u.calculateBounds(t);v=new y;v.setDeviceOrgX(x.getMinX());v.setDeviceOrgY(x.getMinY());v.setWorldOrgX(A.x);v.setWorldOrgY(A.y);for(A=0;A<t.length;A++)t[A].transform(v);t=new g(x.getMaxX(),x.getMaxY());return v.inverseTransformPoint(t)};a.branchRadialLayout=function(t,v,A,x,C,E){var D=(x-A+1)/2;0>D&&(D+=180);D=(D+A)%360*q.TWO_PI/360;t.setCenter(C*Math.cos(D),C*Math.sin(D));D=[];D=D.concat(t.getEdges());
var F=D.length;null!=v&&F--;var G=0,I=D.length,J;for(J=t.getEdgesBetween(v);1<J.length;){var H=J[0];J.splice(0,1);H=D.indexOf(H);0<=H&&D.splice(H,1);I--;F--}J=null!=v?(D.indexOf(J[0])+1)%I:0;for(x=Math.abs(x-A)/F;G!=F;J=++J%I)if(H=D[J].getOtherEnd(t),H!=v){var M=(A+G*x)%360;a.branchRadialLayout(H,t,M,(M+x)%360,C+E,E);G++}};a.maxDiagonalInTree=function(t){for(var v=h.MIN_VALUE,A=0;A<t.length;A++){var x=t[A].getDiagonal();x>v&&(v=x)}return v};a.prototype.calcRepulsionRange=function(){return 2*(this.level+
1)*this.idealEdgeLength};w.exports=a},{"./CoSEConstants":1,"./CoSEEdge":2,"./CoSEGraph":3,"./CoSEGraphManager":4,"./CoSENode":6,"./FDLayout":9,"./FDLayoutConstants":10,"./IGeometry":15,"./Integer":17,"./LGraph":19,"./Layout":23,"./LayoutConstants":24,"./Point":25,"./PointD":26,"./Transform":30}],6:[function(m,w,B){function a(e,k,p,l){b.call(this,e,k,p,l)}var b=m("./FDLayoutNode"),c=m("./IMath");a.prototype=Object.create(b.prototype);for(var d in b)a[d]=b[d];a.prototype.move=function(){var e=this.graphManager.getLayout();
this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX);this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY);Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*c.sign(this.displacementX));Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*c.sign(this.displacementY));
null==this.child?this.moveBy(this.displacementX,this.displacementY):0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY);e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY);this.displacementY=this.displacementX=this.gravitationForceY=this.gravitationForceX=this.repulsionForceY=this.repulsionForceX=this.springForceY=this.springForceX=0};a.prototype.propogateDisplacementToChildren=
function(e,k){for(var p=this.getChild().getNodes(),l,r=0;r<p.length;r++)l=p[r],null==l.getChild()?(l.moveBy(e,k),l.displacementX+=e,l.displacementY+=k):l.propogateDisplacementToChildren(e,k)};a.prototype.setPred1=function(e){this.pred1=e};a.prototype.getPred1=function(){return pred1};a.prototype.getPred2=function(){return pred2};a.prototype.setNext=function(e){this.next=e};a.prototype.getNext=function(){return next};a.prototype.setProcessed=function(e){this.processed=e};a.prototype.isProcessed=function(){return processed};
w.exports=a},{"./FDLayoutNode":12,"./IMath":16}],7:[function(m,w,B){function a(b,c){this.height=this.width=0;null!==b&&null!==c&&(this.height=c,this.width=b)}a.prototype.getWidth=function(){return this.width};a.prototype.setWidth=function(b){this.width=b};a.prototype.getHeight=function(){return this.height};a.prototype.setHeight=function(b){this.height=b};w.exports=a},{}],8:[function(m,w,B){function a(){this.listeners=[]}m=a.prototype;m.addListener=function(b,c){this.listeners.push({event:b,callback:c})};
m.removeListener=function(b,c){for(var d=this.listeners.length;0<=d;d--){var e=this.listeners[d];e.event===b&&e.callback===c&&this.listeners.splice(d,1)}};m.emit=function(b,c){for(var d=0;d<this.listeners.length;d++){var e=this.listeners[d];b===e.event&&e.callback(c)}};w.exports=a},{}],9:[function(m,w,B){function a(){b.call(this);this.useSmartIdealEdgeLengthCalculation=c.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;this.idealEdgeLength=c.DEFAULT_EDGE_LENGTH;this.springConstant=c.DEFAULT_SPRING_STRENGTH;
this.repulsionConstant=c.DEFAULT_REPULSION_STRENGTH;this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH;this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH;this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR;this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;this.displacementThresholdPerNode=3*c.DEFAULT_EDGE_LENGTH/100;this.initialCoolingFactor=this.coolingFactor=1;this.oldTotalDisplacement=this.totalDisplacement=0;this.maxIterations=c.MAX_ITERATIONS}var b=m("./Layout"),
c=m("./FDLayoutConstants"),d=m("./LayoutConstants"),e=m("./IGeometry"),k=m("./IMath");a.prototype=Object.create(b.prototype);for(var p in b)a[p]=b[p];a.prototype.initParameters=function(){b.prototype.initParameters.call(this,arguments);this.layoutQuality==d.DRAFT_QUALITY?(this.displacementThresholdPerNode+=.3,this.maxIterations*=.8):this.layoutQuality==d.PROOF_QUALITY&&(this.displacementThresholdPerNode-=.3,this.maxIterations*=1.2);this.notAnimatedIterations=this.totalIterations=0};a.prototype.calcIdealEdgeLengths=
function(){for(var l,r,n,g,f,h=this.getGraphManager().getAllEdges(),q=0;q<h.length;q++)l=h[q],l.idealLength=this.idealEdgeLength,l.isInterGraph&&(n=l.getSource(),g=l.getTarget(),r=l.getSourceInLca().getEstimatedSize(),f=l.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(l.idealLength+=r+f-2*d.SIMPLE_NODE_SIZE),r=l.getLca().getInclusionTreeDepth(),l.idealLength+=c.DEFAULT_EDGE_LENGTH*c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+g.getInclusionTreeDepth()-
2*r))};a.prototype.initSpringEmbedder=function(){this.incremental?(this.initialCoolingFactor=this.coolingFactor=.8,this.maxNodeDisplacement=c.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.initialCoolingFactor=this.coolingFactor=1,this.maxNodeDisplacement=c.MAX_NODE_DISPLACEMENT);this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations);this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length;this.repulsionRange=this.calcRepulsionRange()};a.prototype.calcSpringForces=
function(){for(var l=this.getAllEdges(),r,n=0;n<l.length;n++)r=l[n],this.calcSpringForce(r,r.idealLength)};a.prototype.calcRepulsionForces=function(){var l,r,n=this.getAllNodes();for(l=0;l<n.length;l++){var g=n[l];for(r=l+1;r<n.length;r++){var f=n[r];g.getOwner()==f.getOwner()&&this.calcRepulsionForce(g,f)}}};a.prototype.calcGravitationalForces=function(){for(var l,r=this.getAllNodesToApplyGravitation(),n=0;n<r.length;n++)l=r[n],this.calcGravitationalForce(l)};a.prototype.moveNodes=function(){for(var l=
this.getAllNodes(),r,n=0;n<l.length;n++)r=l[n],r.move()};a.prototype.calcSpringForce=function(l,r){var n=l.getSource(),g=l.getTarget();if(this.uniformLeafNodeSizes&&null==n.getChild()&&null==g.getChild())l.updateLengthSimple();else if(l.updateLength(),l.isOverlapingSourceAndTarget)return;var f=l.getLength();var h=this.springConstant*(f-r);var q=l.lengthX/f*h;f=l.lengthY/f*h;n.springForceX+=q;n.springForceY+=f;g.springForceX-=q;g.springForceY-=f};a.prototype.calcRepulsionForce=function(l,r){var n=
l.getRect(),g=r.getRect(),f=Array(2),h=Array(4);if(n.intersects(g)){e.calcSeparationAmount(n,g,f,c.DEFAULT_EDGE_LENGTH/2);var q=f[0];n=f[1]}else this.uniformLeafNodeSizes&&null==l.getChild()&&null==r.getChild()?(q=g.getCenterX()-n.getCenterX(),n=g.getCenterY()-n.getCenterY()):(e.getIntersection(n,g,h),q=h[2]-h[0],n=h[3]-h[1]),Math.abs(q)<c.MIN_REPULSION_DIST&&(q=k.sign(q)*c.MIN_REPULSION_DIST),Math.abs(n)<c.MIN_REPULSION_DIST&&(n=k.sign(n)*c.MIN_REPULSION_DIST),f=q*q+n*n,g=Math.sqrt(f),f=this.repulsionConstant/
f,q=f*q/g,n=f*n/g;l.repulsionForceX-=q;l.repulsionForceY-=n;r.repulsionForceX+=q;r.repulsionForceY+=n};a.prototype.calcGravitationalForce=function(l){var r=l.getOwner();var n=(r.getRight()+r.getLeft())/2;var g=(r.getTop()+r.getBottom())/2;n=l.getCenterX()-n;g=l.getCenterY()-g;var f=Math.abs(n);var h=Math.abs(g);if(l.getOwner()==this.graphManager.getRoot()){if(80,r=Math.floor(r.getEstimatedSize()*this.gravityRangeFactor),f>r||h>r)l.gravitationForceX=-this.gravityConstant*n,l.gravitationForceY=-this.gravityConstant*
g}else if(r=Math.floor(r.getEstimatedSize()*this.compoundGravityRangeFactor),f>r||h>r)l.gravitationForceX=-this.gravityConstant*n*this.compoundGravityConstant,l.gravitationForceY=-this.gravityConstant*g*this.compoundGravityConstant};a.prototype.isConverged=function(){var l=!1;this.totalIterations>this.maxIterations/3&&(l=2>Math.abs(this.totalDisplacement-this.oldTotalDisplacement));var r=this.totalDisplacement<this.totalDisplacementThreshold;this.oldTotalDisplacement=this.totalDisplacement;return r||
l};a.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)};a.prototype.calcRepulsionRange=function(){return 0};w.exports=a},{"./FDLayoutConstants":10,"./IGeometry":15,"./IMath":16,"./Layout":23,"./LayoutConstants":24}],10:[function(m,w,B){function a(){}m=m("./LayoutConstants");for(var b in m)a[b]=m[b];a.MAX_ITERATIONS=2500;a.DEFAULT_EDGE_LENGTH=50;a.DEFAULT_SPRING_STRENGTH=
.45;a.DEFAULT_REPULSION_STRENGTH=4500;a.DEFAULT_GRAVITY_STRENGTH=.4;a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1;a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8;a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5;a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0;a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0;a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100;a.MAX_NODE_DISPLACEMENT=3*a.MAX_NODE_DISPLACEMENT_INCREMENTAL;a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10;a.CONVERGENCE_CHECK_PERIOD=100;a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=
.1;a.MIN_EDGE_LENGTH=1;a.GRID_CALCULATION_CHECK_PERIOD=10;w.exports=a},{"./LayoutConstants":24}],11:[function(m,w,B){function a(e,k,p){b.call(this,e,k,p);this.idealLength=c.DEFAULT_EDGE_LENGTH}var b=m("./LEdge"),c=m("./FDLayoutConstants");a.prototype=Object.create(b.prototype);for(var d in b)a[d]=b[d];w.exports=a},{"./FDLayoutConstants":10,"./LEdge":18}],12:[function(m,w,B){function a(d,e,k,p){b.call(this,d,e,k,p);this.finishY=this.startY=this.finishX=this.startX=this.displacementY=this.displacementX=
this.gravitationForceY=this.gravitationForceX=this.repulsionForceY=this.repulsionForceX=this.springForceY=this.springForceX=0;this.surrounding=[]}var b=m("./LNode");a.prototype=Object.create(b.prototype);for(var c in b)a[c]=b[c];a.prototype.setGridCoordinates=function(d,e,k,p){this.startX=d;this.finishX=e;this.startY=k;this.finishY=p};w.exports=a},{"./LNode":22}],13:[function(m,w,B){function a(){this.map={};this.keys=[]}var b=m("./UniqueIDGeneretor");a.prototype.put=function(c,d){var e=b.createID(c);
this.contains(e)||(this.map[e]=d,this.keys.push(c))};a.prototype.contains=function(c){b.createID(c);return null!=this.map[c]};a.prototype.get=function(c){c=b.createID(c);return this.map[c]};a.prototype.keySet=function(){return this.keys};w.exports=a},{"./UniqueIDGeneretor":31}],14:[function(m,w,B){function a(){this.set={}}var b=m("./UniqueIDGeneretor");a.prototype.add=function(c){var d=b.createID(c);this.contains(d)||(this.set[d]=c)};a.prototype.remove=function(c){delete this.set[b.createID(c)]};
a.prototype.clear=function(){this.set={}};a.prototype.contains=function(c){return this.set[b.createID(c)]==c};a.prototype.isEmpty=function(){return 0===this.size()};a.prototype.size=function(){return Object.keys(this.set).length};a.prototype.addAllTo=function(c){for(var d=Object.keys(this.set),e=d.length,k=0;k<e;k++)c.push(this.set[d[k]])};a.prototype.size=function(){return Object.keys(this.set).length};a.prototype.addAll=function(c){for(var d=c.length,e=0;e<d;e++)this.add(c[e])};w.exports=a},{"./UniqueIDGeneretor":31}],
15:[function(m,w,B){function a(){}a.calcSeparationAmount=function(b,c,d,e){if(!b.intersects(c))throw"assert failed";var k=Array(2);a.decideDirectionsForOverlappingNodes(b,c,k);d[0]=Math.min(b.getRight(),c.getRight())-Math.max(b.x,c.x);d[1]=Math.min(b.getBottom(),c.getBottom())-Math.max(b.y,c.y);b.getX()<=c.getX()&&b.getRight()>=c.getRight()?d[0]+=Math.min(c.getX()-b.getX(),b.getRight()-c.getRight()):c.getX()<=b.getX()&&c.getRight()>=b.getRight()&&(d[0]+=Math.min(b.getX()-c.getX(),c.getRight()-b.getRight()));
b.getY()<=c.getY()&&b.getBottom()>=c.getBottom()?d[1]+=Math.min(c.getY()-b.getY(),b.getBottom()-c.getBottom()):c.getY()<=b.getY()&&c.getBottom()>=b.getBottom()&&(d[1]+=Math.min(b.getY()-c.getY(),c.getBottom()-b.getBottom()));var p=Math.abs((c.getCenterY()-b.getCenterY())/(c.getCenterX()-b.getCenterX()));c.getCenterY()==b.getCenterY()&&c.getCenterX()==b.getCenterX()&&(p=1);b=p*d[0];p=d[1]/p;d[0]<p?p=d[0]:b=d[1];d[0]=-1*k[0]*(p/2+e);d[1]=-1*k[1]*(b/2+e)};a.decideDirectionsForOverlappingNodes=function(b,
c,d){b.getCenterX()<c.getCenterX()?d[0]=-1:d[0]=1;b.getCenterY()<c.getCenterY()?d[1]=-1:d[1]=1};a.getIntersection2=function(b,c,d){var e=b.getCenterX(),k=b.getCenterY(),p=c.getCenterX(),l=c.getCenterY();if(b.intersects(c))return d[0]=e,d[1]=k,d[2]=p,d[3]=l,!0;var r=b.getX(),n=b.getY(),g=b.getRight(),f=b.getX(),h=b.getBottom(),q=b.getRight(),u=b.getWidthHalf(),y=b.getHeightHalf(),z=c.getX(),t=c.getY(),v=c.getRight(),A=c.getX(),x=c.getBottom(),C=c.getRight(),E=c.getWidthHalf(),D=c.getHeightHalf(),F=
!1,G=!1;if(e==p)k>l?(d[0]=e,d[1]=n,d[2]=p,d[3]=x):k<l&&(d[0]=e,d[1]=h,d[2]=p,d[3]=t);else if(k==l)e>p?(d[0]=r,d[1]=k,d[2]=v,d[3]=l):e<p&&(d[0]=g,d[1]=k,d[2]=z,d[3]=l);else{b=b.height/b.width;var I=c.height/c.width;c=(l-k)/(p-e);-b==c?(e>p?(d[0]=f,d[1]=h):(d[0]=g,d[1]=n),F=!0):b==c&&(e>p?(d[0]=r,d[1]=n):(d[0]=q,d[1]=h),F=!0);-I==c?(p>e?(d[2]=A,d[3]=x):(d[2]=v,d[3]=t),G=!0):I==c&&(p>e?(d[2]=z,d[3]=t):(d[2]=C,d[3]=x),G=!0);if(F&&G)return!1;e>p?k>l?(r=a.getCardinalDirection(b,c,4),g=a.getCardinalDirection(I,
c,2)):(r=a.getCardinalDirection(-b,c,3),g=a.getCardinalDirection(-I,c,1)):k>l?(r=a.getCardinalDirection(-b,c,1),g=a.getCardinalDirection(-I,c,3)):(r=a.getCardinalDirection(b,c,2),g=a.getCardinalDirection(I,c,4));if(!F)switch(r){case 1:d[0]=e+-y/c;d[1]=n;break;case 2:d[0]=q;d[1]=k+u*c;break;case 3:d[0]=e+y/c;d[1]=h;break;case 4:d[0]=f,d[1]=k+-u*c}if(!G)switch(g){case 1:d[2]=p+-D/c;d[3]=t;break;case 2:d[2]=C;d[3]=l+E*c;break;case 3:d[2]=p+D/c;d[3]=x;break;case 4:d[2]=A,d[3]=l+-E*c}}return!1};a.getCardinalDirection=
function(b,c,d){return b>c?d:1+d%4};a.getIntersection=function(b,c,d,e){if(null==e)return a.getIntersection2(b,c,d);var k=b.x,p=b.y,l=c.x,r=c.y;c=d.x;b=d.y;var n=e.x,g=e.y;e=r-p;d=k-l;l=l*p-k*r;k=g-b;p=c-n;c=n*b-c*g;b=e*p-k*d;return 0==b?null:new Point((d*c-p*l)/b,(k*l-e*c)/b)};a.HALF_PI=.5*Math.PI;a.ONE_AND_HALF_PI=1.5*Math.PI;a.TWO_PI=2*Math.PI;a.THREE_PI=3*Math.PI;w.exports=a},{}],16:[function(m,w,B){function a(){}a.sign=function(b){return 0<b?1:0>b?-1:0};a.floor=function(b){return 0>b?Math.ceil(b):
Math.floor(b)};a.ceil=function(b){return 0>b?Math.floor(b):Math.ceil(b)};w.exports=a},{}],17:[function(m,w,B){function a(){}a.MAX_VALUE=2147483647;a.MIN_VALUE=-2147483648;w.exports=a},{}],18:[function(m,w,B){function a(k,p,l){b.call(this,l);this.isOverlapingSourceAndTarget=!1;this.vGraphObject=l;this.bendpoints=[];this.source=k;this.target=p}var b=m("./LGraphObject"),c=m("./IGeometry"),d=m("./IMath");a.prototype=Object.create(b.prototype);for(var e in b)a[e]=b[e];a.prototype.getSource=function(){return this.source};
a.prototype.getTarget=function(){return this.target};a.prototype.isInterGraph=function(){return this.isInterGraph};a.prototype.getLength=function(){return this.length};a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget};a.prototype.getBendpoints=function(){return this.bendpoints};a.prototype.getLca=function(){return this.lca};a.prototype.getSourceInLca=function(){return this.sourceInLca};a.prototype.getTargetInLca=function(){return this.targetInLca};a.prototype.getOtherEnd=
function(k){if(this.source===k)return this.target;if(this.target===k)return this.source;throw"Node is not incident with this edge";};a.prototype.getOtherEndInGraph=function(k,p){for(var l=this.getOtherEnd(k),r=p.getGraphManager().getRoot();;){if(l.getOwner()==p)return l;if(l.getOwner()==r)break;l=l.getOwner().getParent()}return null};a.prototype.updateLength=function(){var k=Array(4);this.isOverlapingSourceAndTarget=c.getIntersection(this.target.getRect(),this.source.getRect(),k);this.isOverlapingSourceAndTarget||
(this.lengthX=k[0]-k[2],this.lengthY=k[1]-k[3],1>Math.abs(this.lengthX)&&(this.lengthX=d.sign(this.lengthX)),1>Math.abs(this.lengthY)&&(this.lengthY=d.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))};a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX();this.lengthY=this.target.getCenterY()-this.source.getCenterY();1>Math.abs(this.lengthX)&&(this.lengthX=d.sign(this.lengthX));1>Math.abs(this.lengthY)&&
(this.lengthY=d.sign(this.lengthY));this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)};w.exports=a},{"./IGeometry":15,"./IMath":16,"./LGraphObject":21}],19:[function(m,w,B){function a(g,f,h){b.call(this,h);this.estimatedSize=c.MIN_VALUE;this.margin=d.DEFAULT_GRAPH_MARGIN;this.edges=[];this.nodes=[];this.isConnected=!1;this.parent=g;null!=f&&f instanceof e?this.graphManager=f:null!=f&&f instanceof Layout&&(this.graphManager=f.graphManager)}var b=m("./LGraphObject"),c=m("./Integer"),
d=m("./LayoutConstants"),e=m("./LGraphManager"),k=m("./LNode"),p=m("./HashSet"),l=m("./RectangleD"),r=m("./Point");a.prototype=Object.create(b.prototype);for(var n in b)a[n]=b[n];a.prototype.getNodes=function(){return this.nodes};a.prototype.getEdges=function(){return this.edges};a.prototype.getGraphManager=function(){return this.graphManager};a.prototype.getParent=function(){return this.parent};a.prototype.getLeft=function(){return this.left};a.prototype.getRight=function(){return this.right};a.prototype.getTop=
function(){return this.top};a.prototype.getBottom=function(){return this.bottom};a.prototype.isConnected=function(){return this.isConnected};a.prototype.add=function(g,f,h){if(null==f&&null==h){if(null==this.graphManager)throw"Graph has no graph mgr!";if(-1<this.getNodes().indexOf(g))throw"Node already in graph!";g.owner=this;this.getNodes().push(g)}else{if(!(-1<this.getNodes().indexOf(f)&&-1<this.getNodes().indexOf(h)))throw"Source or target not in graph!";if(f.owner!=h.owner||f.owner!=this)throw"Both owners must be this graph!";
if(f.owner!=h.owner)return null;g.source=f;g.target=h;g.isInterGraph=!1;this.getEdges().push(g);f.edges.push(g);h!=f&&h.edges.push(g)}return g};a.prototype.remove=function(g){if(g instanceof k){if(null==g)throw"Node is null!";if(null==g.owner||g.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var f=g.edges.slice(),h,q=f.length,u=0;u<q;u++)h=f[u],h.isInterGraph?this.graphManager.remove(h):h.source.owner.remove(h);g=this.nodes.indexOf(g);
if(-1==g)throw"Node not in owner node list!";this.nodes.splice(g,1)}else if(g instanceof LEdge){h=g;if(null==h)throw"Edge is null!";if(null==h.source||null==h.target)throw"Source and/or target is null!";if(null==h.source.owner||null==h.target.owner||h.source.owner!=this||h.target.owner!=this)throw"Source and/or target owner is invalid!";g=h.source.edges.indexOf(h);f=h.target.edges.indexOf(h);if(!(-1<g&&-1<f))throw"Source and/or target doesn't know this edge!";h.source.edges.splice(g,1);h.target!=
h.source&&h.target.edges.splice(f,1);g=h.source.owner.getEdges().indexOf(h);if(-1==g)throw"Not in owner's edge list!";h.source.owner.getEdges().splice(g,1)}};a.prototype.updateLeftTop=function(){for(var g=c.MAX_VALUE,f=c.MAX_VALUE,h,q,u=this.getNodes(),y=u.length,z=0;z<y;z++)q=u[z],h=Math.floor(q.getTop()),q=Math.floor(q.getLeft()),g>h&&(g=h),f>q&&(f=q);if(g==c.MAX_VALUE)return null;this.left=f-this.margin;this.top=g-this.margin;return new r(this.left,this.top)};a.prototype.updateBounds=function(g){for(var f=
c.MAX_VALUE,h=-c.MAX_VALUE,q=c.MAX_VALUE,u=-c.MAX_VALUE,y,z,t,v,A=this.nodes,x=A.length,C=0;C<x;C++)v=A[C],g&&null!=v.child&&v.updateBounds(),y=Math.floor(v.getLeft()),z=Math.floor(v.getRight()),t=Math.floor(v.getTop()),v=Math.floor(v.getBottom()),f>y&&(f=y),h<z&&(h=z),q>t&&(q=t),u<v&&(u=v);g=new l(f,q,h-f,u-q);f==c.MAX_VALUE&&(this.left=Math.floor(this.parent.getLeft()),this.right=Math.floor(this.parent.getRight()),this.top=Math.floor(this.parent.getTop()),this.bottom=Math.floor(this.parent.getBottom()));
this.left=g.x-this.margin;this.right=g.x+g.width+this.margin;this.top=g.y-this.margin;this.bottom=g.y+g.height+this.margin};a.calculateBounds=function(g){for(var f=c.MAX_VALUE,h=-c.MAX_VALUE,q=c.MAX_VALUE,u=-c.MAX_VALUE,y,z,t,v,A=g.length,x=0;x<A;x++)v=g[x],y=Math.floor(v.getLeft()),z=Math.floor(v.getRight()),t=Math.floor(v.getTop()),v=Math.floor(v.getBottom()),f>y&&(f=y),h<z&&(h=z),q>t&&(q=t),u<v&&(u=v);return new l(f,q,h-f,u-q)};a.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?
1:this.parent.getInclusionTreeDepth()};a.prototype.getEstimatedSize=function(){if(this.estimatedSize==c.MIN_VALUE)throw"assert failed";return this.estimatedSize};a.prototype.calcEstimatedSize=function(){for(var g=0,f=this.nodes,h=f.length,q=0;q<h;q++)g+=f[q].calcEstimatedSize();this.estimatedSize=0==g?d.EMPTY_COMPOUND_NODE_SIZE:Math.floor(g/Math.sqrt(this.nodes.length));return Math.floor(this.estimatedSize)};a.prototype.updateConnected=function(){if(0==this.nodes.length)this.isConnected=!0;else{var g=
[],f=new p,h=this.nodes[0];for(g=g.concat(h.withChildren());0<g.length;){h=g.shift();f.add(h);var q=h.getEdges();for(var u=q.length,y=0;y<u;y++){var z=q[y].getOtherEndInGraph(h,this);null==z||f.contains(z)||(g=g.concat(z.withChildren()))}}this.isConnected=!1;if(f.size()>=this.nodes.length){g=0;f.size();for(var t in f.set)f.set[t].owner==this&&g++;g==this.nodes.length&&(this.isConnected=!0)}}};w.exports=a},{"./HashSet":14,"./Integer":17,"./LGraphManager":20,"./LGraphObject":21,"./LNode":22,"./LayoutConstants":24,
"./Point":25,"./RectangleD":28}],20:[function(m,w,B){function a(b){this.layout=b;this.graphs=[];this.edges=[]}a.prototype.addRoot=function(){var b=this.layout.newGraph(),c=this.layout.newNode(null);b=this.add(b,c);this.setRootGraph(b);return this.rootGraph};a.prototype.add=function(b,c,d,e,k){if(null==d&&null==e&&null==k){if(null==b)throw"Graph is null!";if(null==c)throw"Parent node is null!";if(-1<this.graphs.indexOf(b))throw"Graph already in this graph mgr!";this.graphs.push(b);if(null!=b.parent)throw"Already has a parent!";
if(null!=c.child)throw"Already has a child!";b.parent=c;return c.child=b}k=d;e=c;d=b;b=e.getOwner();c=k.getOwner();if(null==b||b.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==c||c.getGraphManager()!=this)throw"Target not in this graph mgr!";if(b==c)return d.isInterGraph=!1,b.add(d,e,k);d.isInterGraph=!0;d.source=e;d.target=k;if(-1<this.edges.indexOf(d))throw"Edge already in inter-graph edge list!";this.edges.push(d);if(null==d.source||null==d.target)throw"Edge source and/or target is null!";
if(-1!=d.source.edges.indexOf(d)||-1!=d.target.edges.indexOf(d))throw"Edge already in source and/or target incidency list!";d.source.edges.push(d);d.target.edges.push(d);return d};a.prototype.remove=function(b){if(b instanceof LGraph){if(b.getGraphManager()!=this)throw"Graph not in this graph mgr";if(b!=this.rootGraph&&(null==b.parent||b.parent.graphManager!=this))throw"Invalid parent node!";var c=[];c=c.concat(b.getEdges());for(var d,e=c.length,k=0;k<e;k++)d=c[k],b.remove(d);d=[];d=d.concat(b.getNodes());
e=d.length;for(k=0;k<e;k++)c=d[k],b.remove(c);b==this.rootGraph&&this.setRootGraph(null);e=this.graphs.indexOf(b);this.graphs.splice(e,1);b.parent=null}else if(b instanceof LEdge){d=b;if(null==d)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(null==d.source||null==d.target)throw"Source and/or target is null!";if(-1==d.source.edges.indexOf(d)||-1==d.target.edges.indexOf(d))throw"Source and/or target doesn't know this edge!";e=d.source.edges.indexOf(d);d.source.edges.splice(e,
1);e=d.target.edges.indexOf(d);d.target.edges.splice(e,1);if(null==d.source.owner||null==d.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==d.source.owner.getGraphManager().edges.indexOf(d))throw"Not in owner graph manager's edge list!";e=d.source.owner.getGraphManager().edges.indexOf(d);d.source.owner.getGraphManager().edges.splice(e,1)}};a.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)};a.prototype.getGraphs=function(){return this.graphs};
a.prototype.getAllNodes=function(){if(null==this.allNodes){for(var b=[],c=this.getGraphs(),d=c.length,e=0;e<d;e++)b=b.concat(c[e].getNodes());this.allNodes=b}return this.allNodes};a.prototype.resetAllNodes=function(){this.allNodes=null};a.prototype.resetAllEdges=function(){this.allEdges=null};a.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null};a.prototype.getAllEdges=function(){if(null==this.allEdges){for(var b=[],c=this.getGraphs(),d=0;d<c.length;d++)b=b.concat(c[d].getEdges());
this.allEdges=b=b.concat(this.edges)}return this.allEdges};a.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation};a.prototype.setAllNodesToApplyGravitation=function(b){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=b};a.prototype.getRoot=function(){return this.rootGraph};a.prototype.setRootGraph=function(b){if(b.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=b;null==b.parent&&(b.parent=
this.layout.newNode("Root node"))};a.prototype.getLayout=function(){return this.layout};a.prototype.isOneAncestorOfOther=function(b,c){if(null==b||null==c)throw"assert failed";if(b==c)return!0;var d=b.getOwner();do{d=d.getParent();if(null==d)break;if(d==c)return!0;d=d.getOwner();if(null==d)break}while(1);d=c.getOwner();do{d=d.getParent();if(null==d)break;if(d==b)return!0;d=d.getOwner();if(null==d)break}while(1);return!1};a.prototype.calcLowestCommonAncestors=function(){for(var b,c,d,e,k=this.getAllEdges(),
p=k.length,l=0;l<p;l++)if(b=k[l],c=b.source,d=b.target,b.lca=null,b.sourceInLca=c,b.targetInLca=d,c==d)b.lca=c.getOwner();else{for(c=c.getOwner();null==b.lca;){for(e=d.getOwner();null==b.lca;){if(e==c){b.lca=e;break}if(e==this.rootGraph)break;if(null!=b.lca)throw"assert failed";b.targetInLca=e.getParent();e=b.targetInLca.getOwner()}if(c==this.rootGraph)break;null==b.lca&&(b.sourceInLca=c.getParent(),c=b.sourceInLca.getOwner())}if(null==b.lca)throw"assert failed";}};a.prototype.calcLowestCommonAncestor=
function(b,c){if(b==c)return b.getOwner();var d=b.getOwner();do{if(null==d)break;var e=c.getOwner();do{if(null==e)break;if(e==d)return e;e=e.getParent().getOwner()}while(1);d=d.getParent().getOwner()}while(1);return d};a.prototype.calcInclusionTreeDepths=function(b,c){null==b&&null==c&&(b=this.rootGraph,c=1);for(var d,e=b.getNodes(),k=e.length,p=0;p<k;p++)d=e[p],d.inclusionTreeDepth=c,null!=d.child&&this.calcInclusionTreeDepths(d.child,c+1)};a.prototype.includesInvalidEdge=function(){for(var b,c=
this.edges.length,d=0;d<c;d++)if(b=this.edges[d],this.isOneAncestorOfOther(b.source,b.target))return!0;return!1};w.exports=a},{}],21:[function(m,w,B){w.exports=function(a){this.vGraphObject=a}},{}],22:[function(m,w,B){function a(n,g,f,h){null==f&&null==h&&(h=g);b.call(this,h);null!=n.graphManager&&(n=n.graphManager);this.estimatedSize=c.MIN_VALUE;this.inclusionTreeDepth=c.MAX_VALUE;this.vGraphObject=h;this.edges=[];this.graphManager=n;this.rect=null!=f&&null!=g?new d(g.x,g.y,f.width,f.height):new d}
var b=m("./LGraphObject"),c=m("./Integer"),d=m("./RectangleD"),e=m("./LayoutConstants"),k=m("./RandomSeed"),p=m("./PointD"),l=m("./HashSet");a.prototype=Object.create(b.prototype);for(var r in b)a[r]=b[r];a.prototype.getEdges=function(){return this.edges};a.prototype.getChild=function(){return this.child};a.prototype.getOwner=function(){if(null!=this.owner&&!(null==this.owner||-1<this.owner.getNodes().indexOf(this)))throw"assert failed";return this.owner};a.prototype.getWidth=function(){return this.rect.width};
a.prototype.setWidth=function(n){this.rect.width=n};a.prototype.getHeight=function(){return this.rect.height};a.prototype.setHeight=function(n){this.rect.height=n};a.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2};a.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2};a.prototype.getCenter=function(){return new p(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)};a.prototype.getLocation=function(){return new p(this.rect.x,this.rect.y)};a.prototype.getRect=
function(){return this.rect};a.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)};a.prototype.setRect=function(n,g){this.rect.x=n.x;this.rect.y=n.y;this.rect.width=g.width;this.rect.height=g.height};a.prototype.setCenter=function(n,g){this.rect.x=n-this.rect.width/2;this.rect.y=g-this.rect.height/2};a.prototype.setLocation=function(n,g){this.rect.x=n;this.rect.y=g};a.prototype.moveBy=function(n,g){this.rect.x+=n;this.rect.y+=g};a.prototype.getEdgeListToNode=
function(n){var g=[],f;for(f in this.edges){var h=f;if(h.target==n){if(h.source!=this)throw"Incorrect edge source!";g.push(h)}}return g};a.prototype.getEdgesBetween=function(n){var g=[],f;for(f in this.edges){var h=this.edges[f];if(h.source!=this&&h.target!=this)throw"Incorrect edge source and/or target";h.target!=n&&h.source!=n||g.push(h)}return g};a.prototype.getNeighborsList=function(){var n=new l,g;for(g in this.edges){var f=this.edges[g];if(f.source==this)n.add(f.target);else{if(!f.target==this)throw"Incorrect incidency!";
n.add(f.source)}}return n};a.prototype.withChildren=function(){var n=[];n.push(this);if(null!=this.child)for(var g=this.child.getNodes(),f=0;f<g.length;f++){var h=g[f];n=n.concat(h.withChildren())}return n};a.prototype.getEstimatedSize=function(){if(this.estimatedSize==c.MIN_VALUE)throw"assert failed";return this.estimatedSize};a.prototype.calcEstimatedSize=function(){if(null==this.child)return this.estimatedSize=Math.floor((this.rect.width+this.rect.height)/2);this.estimatedSize=this.child.calcEstimatedSize();
this.rect.width=this.estimatedSize;return this.rect.height=this.estimatedSize};a.prototype.scatter=function(){var n=-e.INITIAL_WORLD_BOUNDARY;var g=e.INITIAL_WORLD_BOUNDARY;n=e.WORLD_CENTER_X+k.nextDouble()*(g-n)+n;g=-e.INITIAL_WORLD_BOUNDARY;var f=e.INITIAL_WORLD_BOUNDARY;g=e.WORLD_CENTER_Y+k.nextDouble()*(f-g)+g;this.rect.x=n;this.rect.y=g};a.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var n=this.getChild();n.updateBounds(!0);
this.rect.x=n.getLeft();this.rect.y=n.getTop();this.setWidth(n.getRight()-n.getLeft());this.setHeight(n.getBottom()-n.getTop())}};a.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==c.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth};a.prototype.transform=function(n){var g=this.rect.x;g>e.WORLD_BOUNDARY?g=e.WORLD_BOUNDARY:g<-e.WORLD_BOUNDARY&&(g=-e.WORLD_BOUNDARY);var f=this.rect.y;f>e.WORLD_BOUNDARY?f=e.WORLD_BOUNDARY:f<-e.WORLD_BOUNDARY&&(f=-e.WORLD_BOUNDARY);g=
new p(g,f);n=n.inverseTransformPoint(g);this.setLocation(n.x,n.y)};a.prototype.getLeft=function(){return this.rect.x};a.prototype.getRight=function(){return this.rect.x+this.rect.width};a.prototype.getTop=function(){return this.rect.y};a.prototype.getBottom=function(){return this.rect.y+this.rect.height};a.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()};w.exports=a},{"./HashSet":14,"./Integer":17,"./LGraphObject":21,"./LayoutConstants":24,"./PointD":26,"./RandomSeed":27,
"./RectangleD":28}],23:[function(m,w,B){function a(f){n.call(this);this.layoutQuality=b.DEFAULT_QUALITY;this.createBendsAsNeeded=b.DEFAULT_CREATE_BENDS_AS_NEEDED;this.incremental=b.DEFAULT_INCREMENTAL;this.animationOnLayout=b.DEFAULT_ANIMATION_ON_LAYOUT;this.animationDuringLayout=b.DEFAULT_ANIMATION_DURING_LAYOUT;this.animationPeriod=b.DEFAULT_ANIMATION_PERIOD;this.uniformLeafNodeSizes=b.DEFAULT_UNIFORM_LEAF_NODE_SIZES;this.edgeToDummyNodes=new c;this.graphManager=new d(this);this.isRemoteUse=this.isSubLayout=
this.isLayoutFinished=!1;null!=f&&(this.isRemoteUse=f)}var b=m("./LayoutConstants"),c=m("./HashMap"),d=m("./LGraphManager"),e=m("./LNode"),k=m("./LEdge"),p=m("./LGraph"),l=m("./PointD"),r=m("./Transform"),n=m("./Emitter"),g=m("./HashSet");a.RANDOM_SEED=1;a.prototype=Object.create(n.prototype);a.prototype.getGraphManager=function(){return this.graphManager};a.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()};a.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()};
a.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()};a.prototype.newGraphManager=function(){var f=new d(this);return this.graphManager=f};a.prototype.newGraph=function(f){return new p(null,this.graphManager,f)};a.prototype.newNode=function(f){return new e(this.graphManager,f)};a.prototype.newEdge=function(f){return new k(null,null,f)};a.prototype.runLayout=function(){this.isLayoutFinished=!1;this.initParameters();if(null==this.graphManager.getRoot()||
0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge())var f=!1;else this.isSubLayout||(new Date).getTime(),f=this.layout(),this.isSubLayout||(new Date).getTime();f&&(this.isSubLayout||this.doPostLayout());this.isLayoutFinished=!0;return f};a.prototype.doPostLayout=function(){this.transform();this.update()};a.prototype.update2=function(){this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges());if(!this.isRemoteUse){for(var f=
this.graphManager.getAllEdges(),h=0;h<f.length;h++);f=this.graphManager.getRoot().getNodes();for(h=0;h<f.length;h++);this.update(this.graphManager.getRoot())}};a.prototype.update=function(f){if(null==f)this.update2();else if(f instanceof e){if(null!=f.getChild())for(var h=f.getChild().getNodes(),q=0;q<h.length;q++)update(h[q]);null!=f.vGraphObject&&f.vGraphObject.update(f)}else f instanceof k?null!=f.vGraphObject&&f.vGraphObject.update(f):f instanceof p&&null!=f.vGraphObject&&f.vGraphObject.update(f)};
a.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=b.DEFAULT_QUALITY,this.animationDuringLayout=b.DEFAULT_ANIMATION_ON_LAYOUT,this.animationPeriod=b.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=b.DEFAULT_ANIMATION_DURING_LAYOUT,this.incremental=b.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=b.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=b.DEFAULT_UNIFORM_LEAF_NODE_SIZES);this.animationDuringLayout&&(animationOnLayout=!1)};a.prototype.transform=function(f){if(void 0==
f)this.transform(new l(0,0));else{var h=new r,q=this.graphManager.getRoot().updateLeftTop();if(null!=q){h.setWorldOrgX(f.x);h.setWorldOrgY(f.y);h.setDeviceOrgX(q.x);h.setDeviceOrgY(q.y);f=this.getAllNodes();for(var u=0;u<f.length;u++)q=f[u],q.transform(h)}}};a.prototype.positionNodesRandomly=function(f){if(void 0==f)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var h,q=f.getNodes(),u=0;u<q.length;u++)f=q[u],h=f.getChild(),null==
h?f.scatter():0==h.getNodes().length?f.scatter():(this.positionNodesRandomly(h),f.updateBounds())};a.prototype.getFlatForest=function(){for(var f=[],h=!0,q=this.graphManager.getRoot().getNodes(),u=!0,y=0;y<q.length;y++)null!=q[y].getChild()&&(u=!1);if(!u)return f;var z=new g;u=[];var t=new c,v=[];for(v=v.concat(q);0<v.length&&h;){for(u.push(v[0]);0<u.length&&h;){q=u[0];u.splice(0,1);z.add(q);var A=q.getEdges();for(y=0;y<A.length;y++){var x=A[y].getOtherEnd(q);if(t.get(q)!=x)if(z.contains(x)){h=!1;
break}else u.push(x),t.put(x,q)}}if(h){t=[];z.addAllTo(t);f.push(t);for(y=0;y<t.length;y++)z=v.indexOf(t[y]),-1<z&&v.splice(z,1);z=new g;t=new c}else f=[]}return f};a.prototype.createDummyNodesForBendpoints=function(f){for(var h=[],q=f.source,u=this.graphManager.calcLowestCommonAncestor(f.source,f.target),y=0;y<f.bendpoints.length;y++){var z=this.newNode(null);z.setRect(new Point(0,0),new Dimension(1,1));u.add(z);var t=this.newEdge(null);this.graphManager.add(t,q,z);h.add(z);q=z}t=this.newEdge(null);
this.graphManager.add(t,q,f.target);this.edgeToDummyNodes.put(f,h);f.isInterGraph()?this.graphManager.remove(f):u.remove(f);return h};a.prototype.createBendpointsFromDummyNodes=function(){var f=[];f=f.concat(this.graphManager.getAllEdges());f=this.edgeToDummyNodes.keySet().concat(f);for(var h=0;h<f.length;h++){var q=f[h];if(0<q.bendpoints.length){for(var u=this.edgeToDummyNodes.get(q),y=0;y<u.length;y++){var z=u[y],t=new l(z.getCenterX(),z.getCenterY()),v=q.bendpoints.get(y);v.x=t.x;v.y=t.y;z.getOwner().remove(z)}this.graphManager.add(q,
q.source,q.target)}}};a.transform=function(f,h,q,u){if(void 0!=q&&void 0!=u){var y=h;return 50>=f?y-(h-h/q)/50*(50-f):y+(h*u-h)/50*(f-50)}50>=f?(q=9*h/500,h/=10):(q=9*h/50,h*=-8);return q*f+h};a.findCenterOfTree=function(f){var h=[];h=h.concat(f);f=[];var q=new c,u=!1,y=null;if(1==h.length||2==h.length)u=!0,y=h[0];for(var z=0;z<h.length;z++){var t=h[z],v=t.getNeighborsList().size();q.put(t,t.getNeighborsList().size());1==v&&f.push(t)}v=[];for(v=v.concat(f);!u;){[].concat(v);v=[];for(z=0;z<h.length;z++){t=
h[z];var A=h.indexOf(t);0<=A&&h.splice(A,1);t=t.getNeighborsList();for(var x in t.set)if(A=t.set[x],0>f.indexOf(A)){var C=q.get(A)-1;1==C&&v.push(A);q.put(A,C)}}f=f.concat(v);if(1==h.length||2==h.length)u=!0,y=h[0]}return y};a.prototype.setGraphManager=function(f){this.graphManager=f};w.exports=a},{"./Emitter":8,"./HashMap":13,"./HashSet":14,"./LEdge":18,"./LGraph":19,"./LGraphManager":20,"./LNode":22,"./LayoutConstants":24,"./PointD":26,"./Transform":30}],24:[function(m,w,B){function a(){}a.PROOF_QUALITY=
0;a.DEFAULT_QUALITY=1;a.DRAFT_QUALITY=2;a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1;a.DEFAULT_INCREMENTAL=!1;a.DEFAULT_ANIMATION_ON_LAYOUT=!0;a.DEFAULT_ANIMATION_DURING_LAYOUT=!1;a.DEFAULT_ANIMATION_PERIOD=50;a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1;a.DEFAULT_GRAPH_MARGIN=15;a.SIMPLE_NODE_SIZE=40;a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2;a.EMPTY_COMPOUND_NODE_SIZE=40;a.MIN_EDGE_LENGTH=1;a.WORLD_BOUNDARY=1E6;a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1E3;a.WORLD_CENTER_X=1200;a.WORLD_CENTER_Y=900;w.exports=
a},{}],25:[function(m,w,B){function a(b,c,d){this.y=this.x=null;null==b&&null==c&&null==d?this.y=this.x=0:"number"==typeof b&&"number"==typeof c&&null==d?(this.x=b,this.y=c):"Point"==b.constructor.name&&null==c&&null==d&&(d=b,this.x=d.x,this.y=d.y)}a.prototype.getX=function(){return this.x};a.prototype.getY=function(){return this.y};a.prototype.getLocation=function(){return new a(this.x,this.y)};a.prototype.setLocation=function(b,c,d){"Point"==b.constructor.name&&null==c&&null==d?(d=b,this.setLocation(d.x,
d.y)):"number"==typeof b&&"number"==typeof c&&null==d&&(parseInt(b)==b&&parseInt(c)==c?this.move(b,c):(this.x=Math.floor(b+.5),this.y=Math.floor(c+.5)))};a.prototype.move=function(b,c){this.x=b;this.y=c};a.prototype.translate=function(b,c){this.x+=b;this.y+=c};a.prototype.equals=function(b){return"Point"==b.constructor.name?this.x==b.x&&this.y==b.y:this==b};a.prototype.toString=function(){return(new a).constructor.name+"[x="+this.x+",y="+this.y+"]"};w.exports=a},{}],26:[function(m,w,B){function a(b,
c){null==b&&null==c?this.y=this.x=0:(this.x=b,this.y=c)}a.prototype.getX=function(){return this.x};a.prototype.getY=function(){return this.y};a.prototype.setX=function(b){this.x=b};a.prototype.setY=function(b){this.y=b};a.prototype.getDifference=function(b){return new DimensionD(this.x-b.x,this.y-b.y)};a.prototype.getCopy=function(){return new a(this.x,this.y)};a.prototype.translate=function(b){this.x+=b.width;this.y+=b.height;return this};w.exports=a},{}],27:[function(m,w,B){function a(){}a.seed=
1;a.x=0;a.nextDouble=function(){a.x=1E4*Math.sin(a.seed++);return a.x-Math.floor(a.x)};w.exports=a},{}],28:[function(m,w,B){function a(b,c,d,e){this.height=this.width=this.y=this.x=0;null!=b&&null!=c&&null!=d&&null!=e&&(this.x=b,this.y=c,this.width=d,this.height=e)}a.prototype.getX=function(){return this.x};a.prototype.setX=function(b){this.x=b};a.prototype.getY=function(){return this.y};a.prototype.setY=function(b){this.y=b};a.prototype.getWidth=function(){return this.width};a.prototype.setWidth=
function(b){this.width=b};a.prototype.getHeight=function(){return this.height};a.prototype.setHeight=function(b){this.height=b};a.prototype.getRight=function(){return this.x+this.width};a.prototype.getBottom=function(){return this.y+this.height};a.prototype.intersects=function(b){return this.getRight()<b.x||this.getBottom()<b.y||b.getRight()<this.x||b.getBottom()<this.y?!1:!0};a.prototype.getCenterX=function(){return this.x+this.width/2};a.prototype.getMinX=function(){return this.getX()};a.prototype.getMaxX=
function(){return this.getX()+this.width};a.prototype.getCenterY=function(){return this.y+this.height/2};a.prototype.getMinY=function(){return this.getY()};a.prototype.getMaxY=function(){return this.getY()+this.height};a.prototype.getWidthHalf=function(){return this.width/2};a.prototype.getHeightHalf=function(){return this.height/2};w.exports=a},{}],29:[function(m,w,B){w.exports=function(a){a.toBeTiled={};a.getToBeTiled=function(b){var c=b.data("id");if(null!=a.toBeTiled[c])return a.toBeTiled[c];
b=b.children();if(null==b||0==b.length)return a.toBeTiled[c]=!1;for(var d=0;d<b.length;d++){var e=b[d];if(0<a.getNodeDegree(e))return a.toBeTiled[c]=!1;if(null==e.children()||0==e.children().length)a.toBeTiled[e.data("id")]=!1;else if(!a.getToBeTiled(e))return a.toBeTiled[c]=!1}return a.toBeTiled[c]=!0};a.getNodeDegree=function(b){var c=b.id();return a.options.eles.edges().filter(function(d,e){"number"===typeof d&&(d=e);var k=d.data("source"),p=d.data("target");if(k!=p&&(k==c||p==c))return!0}).length};
a.getNodeDegreeWithChildren=function(b){var c=a.getNodeDegree(b);b=b.children();for(var d=0;d<b.length;d++)c+=a.getNodeDegreeWithChildren(b[d]);return c};a.groupZeroDegreeMembers=function(){for(var b=[],c=[],d=this,e={},k=0;k<a.options.eles.nodes().length;k++)e[a.options.eles.nodes()[k].id()]=!0;var p=a.options.eles.nodes().filter(function(f,h){"number"===typeof f&&(f=h);var q=f.data("parent");void 0==q||e[q]||(q=void 0);return 0!=d.getNodeDegreeWithChildren(f)||void 0!=q&&(void 0==q||d.getToBeTiled(f.parent()[0]))?
!1:!0});for(k=0;k<p.length;k++){var l=p[k],r=l.parent().id();void 0==r||e[r]||(r=void 0);"undefined"===typeof b[r]&&(b[r]=[]);b[r]=b[r].concat(l)}for(r in b)if(1<b[r].length&&(p="DummyCompound_"+r,c[p]=b[r],a.options.cy.getElementById(p).empty())){a.options.cy.add({group:"nodes",data:{id:p,parent:r}});var n=a.options.cy.nodes()[a.options.cy.nodes().length-1];a.options.eles=a.options.eles.union(n);n.hide();for(k=0;k<b[r].length;k++){0==k&&n.scratch("coseBilkent",{tempchildren:[]});l=b[r][k];var g=
l.scratch("coseBilkent");g||(g={},l.scratch("coseBilkent",g));g.dummy_parent_id=p;a.options.cy.add({group:"nodes",data:{parent:p,width:l.width(),height:l.height()}});l=a.options.cy.nodes()[a.options.cy.nodes().length-1];l.hide();l.css("width",l.data("width"));l.css("height",l.data("height"));l.width();n.scratch("coseBilkent").tempchildren.push(l)}}return c};a.performDFSOnCompounds=function(b){b=[];var c=a.getTopMostNodes(a.options.eles.nodes());a.fillCompexOrderByDFS(b,c);return b};a.fillCompexOrderByDFS=
function(b,c){for(var d=0;d<c.length;d++){var e=c[d];a.fillCompexOrderByDFS(b,e.children());a.getToBeTiled(e)&&b.push(e)}};a.clearCompounds=function(){var b=[],c=a.performDFSOnCompounds(a.options);a.compoundOrder=c;a.processChildrenList(a.root,a.getTopMostNodes(a.options.eles.nodes()),a.layout);for(var d=0;d<c.length;d++){var e=a.idToLNode[c[d].id()];b[c[d].id()]=c[d].children();e.child=null}return a.tileCompoundMembers(b)};a.clearZeroDegreeMembers=function(b){var c=[],d;for(d in b){var e=a.idToLNode[d];
c[d]=a.tileNodes(b[d]);e.rect.width=c[d].width;e.rect.height=c[d].height}return c};a.repopulateCompounds=function(b){for(var c=a.compoundOrder.length-1;0<=c;c--){var d=a.compoundOrder[c].id(),e=a.idToLNode[d],k=parseInt(a.compoundOrder[c].css("padding-left")),p=parseInt(a.compoundOrder[c].css("padding-top"));a.adjustLocations(b[d],e.rect.x,e.rect.y,k,p)}};a.repopulateZeroDegreeMembers=function(b){for(var c in b){var d=a.cy.getElementById(c),e=a.idToLNode[c],k=parseInt(d.css("padding-left")),p=parseInt(d.css("padding-top"));
a.adjustLocations(b[c],e.rect.x,e.rect.y,k,p);e=d.scratch("coseBilkent").tempchildren;for(c=0;c<e.length;c++)e[c].remove();d.remove()}};a.adjustLocations=function(b,c,d,e,k){d+=k;e=c+e;for(k=0;k<b.rows.length;k++){var p=b.rows[k];c=e;for(var l=0,r=0;r<p.length;r++){var n=p[r];a.cy.getElementById(n.id);n.rect.x=c;n.rect.y=d;c+=n.rect.width+b.horizontalPadding;n.rect.height>l&&(l=n.rect.height)}d+=l+b.verticalPadding}};a.tileCompoundMembers=function(b){var c=[],d;for(d in b){var e=a.idToLNode[d];c[d]=
a.tileNodes(b[d]);e.rect.width=c[d].width+20;e.rect.height=c[d].height+20}return c};a.tileNodes=function(b){var c="function"===typeof this.options.tilingPaddingVertical?this.options.tilingPaddingVertical.call():this.options.tilingPaddingVertical,d="function"===typeof this.options.tilingPaddingHorizontal?this.options.tilingPaddingHorizontal.call():this.options.tilingPaddingHorizontal;c={rows:[],rowWidth:[],rowHeight:[],width:20,height:20,verticalPadding:c,horizontalPadding:d};d=[];for(var e=0;e<b.length;e++){var k=
b[e],p=a.idToLNode[k.id()];k.scratch("coseBilkent")&&k.scratch("coseBilkent").dummy_parent_id||(p.owner.remove(p),a.gm.resetAllNodes(),a.gm.getAllNodes());d.push(p)}d.sort(function(l,r){return l.rect.width*l.rect.height>r.rect.width*r.rect.height?-1:l.rect.width*l.rect.height<r.rect.width*r.rect.height?1:0});for(e=0;e<d.length;e++)p=d[e],b=a.cy.getElementById(p.id).parent()[0],k=0,b&&(k=parseInt(b.css("padding-left"))+parseInt(b.css("padding-right"))),0==c.rows.length?a.insertNodeToRow(c,p,0,k):a.canAddHorizontal(c,
p.rect.width,p.rect.height)?a.insertNodeToRow(c,p,a.getShortestRowIndex(c),k):a.insertNodeToRow(c,p,c.rows.length,k),a.shiftToLastRow(c);return c};a.insertNodeToRow=function(b,c,d,e){d==b.rows.length&&(b.rows.push([]),b.rowWidth.push(e),b.rowHeight.push(0));e=b.rowWidth[d]+c.rect.width;0<b.rows[d].length&&(e+=b.horizontalPadding);b.rowWidth[d]=e;b.width<e&&(b.width=e);e=c.rect.height;0<d&&(e+=b.verticalPadding);var k=0;e>b.rowHeight[d]&&(k=b.rowHeight[d],b.rowHeight[d]=e,k=b.rowHeight[d]-k);b.height+=
k;b.rows[d].push(c)};a.getShortestRowIndex=function(b){for(var c=-1,d=Number.MAX_VALUE,e=0;e<b.rows.length;e++)b.rowWidth[e]<d&&(c=e,d=b.rowWidth[e]);return c};a.getLongestRowIndex=function(b){for(var c=-1,d=Number.MIN_VALUE,e=0;e<b.rows.length;e++)b.rowWidth[e]>d&&(c=e,d=b.rowWidth[e]);return c};a.canAddHorizontal=function(b,c,d){var e=a.getShortestRowIndex(b);if(0>e)return!0;var k=b.rowWidth[e];if(k+b.horizontalPadding+c<=b.width)return!0;var p=0;b.rowHeight[e]<d&&0<e&&(p=d+b.verticalPadding-b.rowHeight[e]);
e=b.width-k>=c+b.horizontalPadding?(b.height+p)/(k+c+b.horizontalPadding):(b.height+p)/b.width;p=d+b.verticalPadding;b=b.width<c?(b.height+p)/c:(b.height+p)/b.width;1>b&&(b=1/b);1>e&&(e=1/e);return e<b};a.shiftToLastRow=function(b){var c=a.getLongestRowIndex(b),d=b.rowWidth.length-1,e=b.rows[c],k=e[e.length-1],p=k.width+b.horizontalPadding;if(b.width-b.rowWidth[d]>p&&c!=d){e.splice(-1,1);b.rows[d].push(k);b.rowWidth[c]-=p;b.rowWidth[d]+=p;b.width=b.rowWidth[a.getLongestRowIndex(b)];p=Number.MIN_VALUE;
for(var l=0;l<e.length;l++)e[l].height>p&&(p=e[l].height);0<c&&(p+=b.verticalPadding);e=b.rowHeight[c]+b.rowHeight[d];b.rowHeight[c]=p;b.rowHeight[d]<k.height+b.verticalPadding&&(b.rowHeight[d]=k.height+b.verticalPadding);b.height+=b.rowHeight[c]+b.rowHeight[d]-e;a.shiftToLastRow(b)}};a.preLayout=function(){var b=a.groupZeroDegreeMembers();a.tiledMemberPack=a.clearCompounds();a.tiledZeroDegreeNodes=a.clearZeroDegreeMembers(b)};a.postLayout=function(){for(var b=a.options.eles.nodes(),c=0;c<b.length;c++)a.getToBeTiled(b[c]);
a.repopulateZeroDegreeMembers(a.tiledZeroDegreeNodes);a.repopulateCompounds(a.tiledMemberPack);a.options.cy.nodes().updateCompoundBounds()}}},{}],30:[function(m,w,B){function a(c,d){this.ldeviceOrgY=this.ldeviceOrgX=this.lworldOrgY=this.lworldOrgX=0;this.ldeviceExtY=this.ldeviceExtX=this.lworldExtY=this.lworldExtX=1}var b=m("./PointD");a.prototype.getWorldOrgX=function(){return this.lworldOrgX};a.prototype.setWorldOrgX=function(c){this.lworldOrgX=c};a.prototype.getWorldOrgY=function(){return this.lworldOrgY};
a.prototype.setWorldOrgY=function(c){this.lworldOrgY=c};a.prototype.getWorldExtX=function(){return this.lworldExtX};a.prototype.setWorldExtX=function(c){this.lworldExtX=c};a.prototype.getWorldExtY=function(){return this.lworldExtY};a.prototype.setWorldExtY=function(c){this.lworldExtY=c};a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX};a.prototype.setDeviceOrgX=function(c){this.ldeviceOrgX=c};a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY};a.prototype.setDeviceOrgY=function(c){this.ldeviceOrgY=
c};a.prototype.getDeviceExtX=function(){return this.ldeviceExtX};a.prototype.setDeviceExtX=function(c){this.ldeviceExtX=c};a.prototype.getDeviceExtY=function(){return this.ldeviceExtY};a.prototype.setDeviceExtY=function(c){this.ldeviceExtY=c};a.prototype.transformX=function(c){var d=0,e=this.lworldExtX;0!=e&&(d=this.ldeviceOrgX+(c-this.lworldOrgX)*this.ldeviceExtX/e);return d};a.prototype.transformY=function(c){var d=0,e=this.lworldExtY;0!=e&&(d=this.ldeviceOrgY+(c-this.lworldOrgY)*this.ldeviceExtY/
e);return d};a.prototype.inverseTransformX=function(c){var d=0,e=this.ldeviceExtX;0!=e&&(d=this.lworldOrgX+(c-this.ldeviceOrgX)*this.lworldExtX/e);return d};a.prototype.inverseTransformY=function(c){var d=0,e=this.ldeviceExtY;0!=e&&(d=this.lworldOrgY+(c-this.ldeviceOrgY)*this.lworldExtY/e);return d};a.prototype.inverseTransformPoint=function(c){return new b(this.inverseTransformX(c.x),this.inverseTransformY(c.y))};w.exports=a},{"./PointD":26}],31:[function(m,w,B){function a(){}a.lastID=0;a.createID=
function(b){if(a.isPrimitive(b))return b;if(null!=b.uniqueID)return b.uniqueID;b.uniqueID=a.getString();a.lastID++;return b.uniqueID};a.getString=function(b){null==b&&(b=a.lastID);return"Object#"+b};a.isPrimitive=function(b){var c=typeof b;return null==b||"object"!=c&&"function"!=c};w.exports=a},{}],32:[function(m,w,B){function a(g){r(this);var f=n,h={},q;for(q in f)h[q]=f[q];for(q in g)h[q]=g[q];g=this.options=h;null!=g.nodeRepulsion&&(k.DEFAULT_REPULSION_STRENGTH=e.DEFAULT_REPULSION_STRENGTH=g.nodeRepulsion);
null!=g.idealEdgeLength&&(k.DEFAULT_EDGE_LENGTH=e.DEFAULT_EDGE_LENGTH=g.idealEdgeLength);null!=g.edgeElasticity&&(k.DEFAULT_SPRING_STRENGTH=e.DEFAULT_SPRING_STRENGTH=g.edgeElasticity);null!=g.nestingFactor&&(k.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=g.nestingFactor);null!=g.gravity&&(k.DEFAULT_GRAVITY_STRENGTH=e.DEFAULT_GRAVITY_STRENGTH=g.gravity);null!=g.numIter&&(k.MAX_ITERATIONS=e.MAX_ITERATIONS=g.numIter);null!=g.paddingCompound&&(k.DEFAULT_GRAPH_MARGIN=e.DEFAULT_GRAPH_MARGIN=
d.DEFAULT_GRAPH_MARGIN=g.paddingCompound);null!=g.gravityRange&&(k.DEFAULT_GRAVITY_RANGE_FACTOR=e.DEFAULT_GRAVITY_RANGE_FACTOR=g.gravityRange);null!=g.gravityCompound&&(k.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.DEFAULT_COMPOUND_GRAVITY_STRENGTH=g.gravityCompound);null!=g.gravityRangeCompound&&(k.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=g.gravityRangeCompound);k.DEFAULT_INCREMENTAL=e.DEFAULT_INCREMENTAL=d.DEFAULT_INCREMENTAL=!g.randomize;k.ANIMATE=e.ANIMATE=g.animate}
var b=m("./DimensionD");m("./HashMap");m("./HashSet");m("./IGeometry");m("./IMath");m("./Integer");m("./Point");var c=m("./PointD");m("./RandomSeed");m("./RectangleD");m("./Transform");m("./UniqueIDGeneretor");m("./LGraphObject");m("./LGraph");m("./LEdge");m("./LGraphManager");m("./LNode");m("./Layout");var d=m("./LayoutConstants");m("./FDLayout");var e=m("./FDLayoutConstants");m("./FDLayoutEdge");m("./FDLayoutNode");var k=m("./CoSEConstants");m("./CoSEEdge");m("./CoSEGraph");m("./CoSEGraphManager");
var p=m("./CoSELayout"),l=m("./CoSENode"),r=m("./TilingExtension"),n={ready:function(){},stop:function(){},refresh:30,fit:!0,padding:10,paddingCompound:15,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8};a.prototype.run=function(){var g,f,h=this.options;this.idToLNode={};var q=this.layout=
new p,u=this;this.cy=this.options.cy;this.cy.trigger({type:"layoutstart",layout:this});var y=q.newGraphManager();this.gm=y;var z=this.options.eles.nodes(),t=this.options.eles.edges();this.root=y.addRoot();this.options.tile?this.preLayout():this.processChildrenList(this.root,this.getTopMostNodes(z),q);for(z=0;z<t.length;z++){var v=t[z],A=this.idToLNode[v.data("source")],x=this.idToLNode[v.data("target")];y.add(q.newEdge(),A,x).id=v.id()}var C=function(D,F){"number"===typeof D&&(D=F);var G=D.data("id");
G=u.idToLNode[G];return{x:G.getRect().getCenterX(),y:G.getRect().getCenterY()}},E=function(){for(var D=function(){h.fit&&h.cy.fit(h.eles.nodes(),h.padding);g||(g=!0,u.cy.one("layoutready",h.ready),u.cy.trigger({type:"layoutready",layout:u}))},F=u.options.refresh,G,I=0;I<F&&!G;I++)G=u.layout.tick();if(G)u.options.tile&&u.postLayout(),u.options.eles.nodes().positions(C),D(),u.cy.one("layoutstop",u.options.stop),u.cy.trigger("layoutstop"),u.cy.trigger({type:"layoutstop",layout:u}),f&&cancelAnimationFrame(f),
u.options.eles.nodes().removeScratch("coseBilkent"),g=!1;else{var J=u.layout.getPositionsData();h.eles.nodes().positions(function(H,M){"number"===typeof H&&(H=M);if(H.scratch("coseBilkent")&&H.scratch("coseBilkent").dummy_parent_id){var K=H.scratch("coseBilkent").dummy_parent_id;return{x:K.x,y:K.y}}K=H.data("id");for(var L=J[K],O=H;null==L;)O=O.parent()[0],L=J[O.id()],J[K]=L;return{x:L.x,y:L.y}});D();f=requestAnimationFrame(E)}};q.addListener("layoutstarted",function(){"during"===u.options.animate&&
(f=requestAnimationFrame(E))});q.runLayout();"during"!==this.options.animate&&setTimeout(function(){u.options.tile&&u.postLayout();u.options.eles.nodes().not(":parent").layoutPositions(u,u.options,C);u.options.eles.nodes().removeScratch("coseBilkent");g=!1},0);return this};a.prototype.getTopMostNodes=function(g){for(var f={},h=0;h<g.length;h++)f[g[h].id()]=!0;return g.filter(function(q,u){"number"===typeof q&&(q=u);for(var y=q.parent()[0];null!=y;){if(f[y.id()])return!1;y=y.parent()[0]}return!0})};
a.prototype.processChildrenList=function(g,f,h){for(var q=f.length,u=0;u<q;u++){var y=f[u];this.options.eles.nodes().length;var z=y.children();var t=null!=y.width()&&null!=y.height()?g.add(new l(h.graphManager,new c(y.position("x"),y.position("y")),new b(parseFloat(y.width()),parseFloat(y.height())))):g.add(new l(this.graphManager));t.id=y.data("id");this.idToLNode[y.data("id")]=t;isNaN(t.rect.x)&&(t.rect.x=0);isNaN(t.rect.y)&&(t.rect.y=0);null!=z&&0<z.length&&(y=h.getGraphManager().add(h.newGraph(),
t),this.processChildrenList(y,z,h))}};a.prototype.stop=function(){this.stopped=!0;this.trigger("layoutstop");return this};w.exports=function(g){return a}},{"./CoSEConstants":1,"./CoSEEdge":2,"./CoSEGraph":3,"./CoSEGraphManager":4,"./CoSELayout":5,"./CoSENode":6,"./DimensionD":7,"./FDLayout":9,"./FDLayoutConstants":10,"./FDLayoutEdge":11,"./FDLayoutNode":12,"./HashMap":13,"./HashSet":14,"./IGeometry":15,"./IMath":16,"./Integer":17,"./LEdge":18,"./LGraph":19,"./LGraphManager":20,"./LGraphObject":21,
"./LNode":22,"./Layout":23,"./LayoutConstants":24,"./Point":25,"./PointD":26,"./RandomSeed":27,"./RectangleD":28,"./TilingExtension":29,"./Transform":30,"./UniqueIDGeneretor":31}],33:[function(m,w,B){var a=m("./Layout");m=function(b){var c=a(b);b("layout","cose-bilkent",c)};"undefined"!==typeof cytoscape&&m(cytoscape);w.exports=m},{"./Layout":32}]},{},[33])(33)});